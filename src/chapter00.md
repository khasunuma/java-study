# Java の学習を始めるに当たって

## 1. はじめに

このドキュメントは Java の言語仕様と API のうち、現在 (Java SE 8) においてよく使用するものを簡略にまとめたものです。書籍やインターネットで参照可能な Java の文献を読み進めるために最低限必要と思われる事項について取り上げています。

## 2. 対象とする読者

このドキュメントは主に Java (Java SE 7 以前)、C、JavaScript、Python、Visual Basic (Visual Basic 6.0 以前または Visual Basic for Applications) の使用経験が多少なりともあるプログラマを対象としています。オブジェクト指向プログラミングに関する知識はなくても構いませんが、構造化プログラミングの概要を理解していると読み進めやすいと思われます。

## 3. Java のエディションとバージョン

Java は開発ターゲットによっていくつかのエディションに分かれています。また、数年おきにバージョンアップを行っており、言語仕様や API の改善が行われているのも特徴です。

* Java SE : Java の基本となるのは Java SE (Java Platform, Standard Edition) です。このドキュメントでは主に Java SE を中心に見てゆきます。
* Java EE : Java SE をもとに大規模システム向けの各種機能を追加したものが Java EE (Java Platform, Enterprise Edition) です。Java EE は単一のものではなく、Java SE を補完する様々な機能仕様の集合体です。
* Java ME : 携帯電話、情報家電等の組み込み用途を対象とした軽量版が Java ME (Java Platform, Micro Edition) です。Blu-ray プレーヤー/レコーダーで採用されている BD-J も Java ME の一部です。Java ME は軽量さを保ちつつ対象となる機器に最適化するため Java SE/EE とは独立した進化を遂げてきましたが、今後は Java SE と歩調を合わせ、Java SE のサブセットとしての位置づけになる見込みです。

Java SE は登場以来数度の改訂を受けており、バージョンが存在しています。現行の最新かつ公式アップデート対象のバージョンは Java SE 8 (バージョン 1.8) のみです。現在、次のバージョンである Java SE 9 の開発が進められています (2017 年リリース予定)。このドキュメントも Java SE 8 の仕様を前提とします。前バージョンとなる Java SE 7 (バージョン 1.7) と Java SE 6 (バージョン 1.6) は現在 Oracle の有償サポート契約に基づくアップデートのみ提供されています (公式アップデートの終了は Java SE 7 が 2015 年 4 月、Java SE 6 が 2013 年 2 月)。Java SE 6 よりも前のバージョンは現在ではサポートされていないため、使用しないことを推奨します。

|Java のバージョン|内部バージョン|ステータス|補足|
|------------|--------|--------|----|
|Java SE 9|1.9|開発中|オープンソース版 OpenJDK 9 がベース、プレビュー版が利用可能|
|Java SE 8|1.8|現行・公式アップデート対象|オープンソース版 OpenJDK 8 がベース|
|Java SE 7|1.7|有償サポートのみ|オープンソース版 OpenJDK 7 がベース|
|Java SE 6|1.6|有償サポートのみ|Java SE 5.0 の改良版、オープンソース版 OpenJDK の元になった|
|Java SE 5.0|1.5|サポート終了|別名 J2SE 5.0、言語仕様の近代化|
|J2SE 1.4|1.4|サポート終了|XML API の追加など|
|J2SE 1.3|1.3|サポート終了|Java VM が現在の HotSpot になる|
|J2SE 1.2|1.2|サポート終了|Java Collection Framework 導入|
|JDK 1.1|1.1|サポート終了|日本語が利用できるようになった最初のバージョン|
|JDK 1.0|1.0|サポート終了|最初のバージョンで日本語使用不可、現在は新規入手不可|

>Java SE は登場時 JDK (Java Development Kit) という名称で、バージョン 1.2 で J2SE (Java 2 Platform, Standard Edition) と改称され、さらにバージョン 1.5 で一旦 J2SE 5.0 (J2SE 1.5 とはならずに) と改称された後に Java SE 5.0 と再度改称されました。

Java は最初のバージョンから後方互換性を保っており、それが Java のアドバンテージの 1 つでもありました。しかし、近年では Java の機能拡充に伴い、古く使用頻度の低い言語仕様や API の存在が足かせとなっています。そこで Java の開発チームでは、将来的に Java SE 5.0 までのバージョンとの後方互換性を捨てることを決定しました。既に Java SE 8 では Java SE 5 以前向けのコンパイルを行うと警告が出るようになっています。開発中の Java SE 9 では Java SE 5 以前向けのコンパイルはできなくなっており (実行のみ可)、計画中の Java SE 10 ではコンパイル・実行とも不可能となる予定です。このことから少なくとも Java SE 6 以降、可能な限り Java SE 8 に合わせてアプリケーション開発を行うのが望ましいと言えます。

>Java SE 5.0 と Java SE 6 は本来同一の言語仕様に基づくものですが、Java SE 5.0 の言語仕様解釈には曖昧な点があったこと、XML API は用意されていても実装を含んでいなかったこと (Java SE 6 は XML API の実装も内包しています)、そして何より Java SE 5.0 のパフォーマンスが前バージョンの J2SE 1.4 に比べ悪かったことなどの理由が重なって将来的にサポートが打ち切られるようになったと考えられます。

Java EE も同様に数度の改訂を重ねており、バージョンが存在しています。最新のバージョンは Java EE 7 (バージョン 1.7) ですが、Java EE についてはサーバー (Java EE 実行環境) の提供ベンダーごとにサポートポリシーが異なるため、有効なバージョンは一概には言えません。

|Java のバージョン|内部バージョン|ステータス|補足|
|------------|--------|--------|----|
|Java EE 8|1.8|仕様策定中|スケジュールに大幅な遅れ|
|Java EE 7|1.7|最新版|好評だった Java EE 6 をベースに HTML5、WebSocket、バッチ処理などを追加|
|Java EE 6|1.6|現行|Java EE 5 の弱点を克服、RESTful Web サービス (JAX-RS) が好評、Java SE 7 登場後も現役|
|Java EE 5|1.5|現行|開発生産性の向上 (EoD)、SOAP Web サービスの一新 (JAX-WS)、パフォーマンスは悪い|
|J2EE 1.4|1.4|旧仕様 (黒歴史)|SOAP Web サービス (JAX-RPC)、JavaServer Faces (JSF) などを導入|
|J2EE 1.3|1.3|旧仕様 (黒歴史)|XML 操作 API (JAXP)、EJB のバージョンアップなどを実施|
|J2EE 1.2|1.2|旧仕様 (黒歴史)|最初の Java EE、Servlet/JSP、EJB、JTA、JMS、JavaMail などの仕様の集合体|

>Java EE は登場時 J2EE (Java 2 Platform, Enterprise Edition) という名称で、バージョン 5.0 の時に Java EE 5 と改称されました。Java EE 5 への解消に当たっては、それ以前の J2EE を「黒歴史」化する意味合いが強かったとも言われます。実際に、Java EE では使用頻度の減少した API のプルーニング (削除) が実施されており、まず対象となる仕様について削除勧告を行った後、次のバージョンで削除する手段が採られています。最初の削除勧告は Java EE 6 にて 4 機能を対象に実施され、これらは既に Java EE 7 からは削除されています。Java EE 7 でもいくつかの機能の削除勧告がなされています。

>新入社員研修でおなじみの "JSP (Java Server Pages)" も、実は Java EE 7 の仕様策定段階でプルーニングの候補に挙げられていました。最終的に Java EE 7 では "JSP" の削除勧告は行われませんでしたが、将来の Java EE で削除勧告が行われる可能性は極めて高いとされているため、現在では JSP の学習はお勧めできません。

## 4. 最新の Java をお勧めする理由

アプリケーション開発の現場では、いまだに古い Java が主流ですが、Java 自身が進化している現在では古い Java を使用する意味はほとんど皆無です。

まず、Java SE 8 の旧バージョンに対するアドバンテージを挙げてみます。

* Java SE 8 の Java VM は実行効率が非常に高い。また、Java SE 8 のコンパイラは非常に進歩しており、既存のソースコードを Java SE 8 で再コンパイルするだけでもパフォーマンスの大幅な向上が見込める。
* ラムダ式と Stream API により、データ処理が劇的に改善される。特に Stream API は集合演算をサポートするため、従来 SQL 頼みだった (そして SQL の記述ミスに散々悩まされた) 処理をメモリ上で高速に実行することができる。また、ラムダ式導入の副次的効果として、Java のデータ型に対する扱いが改善されている。
* Date and Time API の導入に伴い、日付と時刻の取り扱いが抜本的に改善される。Java SE 7 までの日付・時刻操作は直感的でなく非常に煩雑であったが、Date and Time API により直感的な操作が行えるようになる。

次に、古い Java を使用することによるデメリットを列挙します。古い Java を使用しても良いことは何一つないため、必ず最新の Java (現在は Java SE 8) を使用するようにしましょう。

|バージョン|デメリット|
|--------|--------|
|Java SE 7|型推論が稚拙でジェネリクス (総称型) の使用に制限あり、初期の実行環境ではセキュリティホールが発覚済み|
|Java SE 6|型推論をはじめとする Java SE 7 の省力化機能が利用できないため、ソースコードが冗長になりがち|
|Java SE 5|言語仕様と実装に齟齬、XML API はあっても実装がなく使い物にならない、J2SE 1.4 より遅い|
|J2SE 1.4|ジェネリクス (総称型) に対応していない、XML API はあっても実装がなく使い物にならない|
|J2SE 1.3|ジェネリクス (総称型) に対応していない、実行効率が向上した HotSpot Java VM もまだ初期段階|
|J2SE 1.2|Java VM の実行効率が悪い、Java アプレットのセキュリティが甘い (～Java SE 7)|
|JDK 1.1|Java VM の実行効率が悪い、Java Collections Framework が使用できない|
|JDK 1.0|Java VM の実行効率が悪い、国際化に対応しておらず、日本語を扱うことができない|

もちろん、ここに挙げていない Java SE 8 についてもデメリットは存在します。しかし、Java SE 8 は唯一の現行バージョンであること、またいくつかのデメリットは開発中の Java SE 9 と計画中の Java SE 10 にて解消する予定であるため、現時点での仕様と割り切って使用するのが良いと思われます。
