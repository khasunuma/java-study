# 2. クラスの基本構造

Java アプリケーションは必ず 1 つ以上のクラスから構成されます。
たとえ "Hello, world" の一文を表示するだけの簡単な処理であっても、
それが Java のアプリケーションである限り、必ずいずれかのクラスに属しています。

## 2.1. クラス、インスタンス、フィールド、メソッド

クラスとは、データ構造 (何らかの状態を表すもの) とそれに対する操作 (状態を変化させるもの) の集合体です。
クラスのデータ構造を「フィールド」、操作を「メソッド」と呼びます。

特定のクラスによって表されるデータ構造と操作を実体化し、プログラムとして実行可能にしたものを「インスタンス」
と呼びます。インスタンスはそれに対する操作（メソッドの呼び出し）に応じて状態（フィールド）が変化します。
クラスをプログラムの設計図と例えるならば、インスタンスはプログラムそのものと言えるでしょう。

## 2.2. クラスの定義

クラスの定義は、基本的には以下の書式に従います。

```
package <パッケージ名>

[import 文]

public class <クラス名> {
    [コンストラクタ (必要なだけ・必要な場所で)]
    [フィールド (必要なだけ・必要な場所で)]
    [メソッド (必要なだけ・必要な場所で)]
}
```

クラスは、あるクラスのフィールド・メソッドを維持したまま、フィールド・メソッドを追加して定義することもできます。
その場合の下のクラスをスーパークラス、新たに定義するクラスをサブクラスと呼び、サブクラスを定義することを「継承」と言います。
継承については後述します。

## 2.3. フィールド

フィールドの定義は、基本的には以下の書式に従います。

```
[スコープ] [static] [final] <データ型> <フィールド名> [ = <初期値>];
```

スコープは、他のクラスからのアクセス許可について宣言したもので、public、protected、private または省略 (別名をパッケージ・プライベートと言います) 
のいずれかとなります。

|スコープ|アクセス許可の範囲|
|----|----|
|private|宣言したクラス内のみ|
|protected|宣言したクラスとそのサブクラス|
|public|すべてのクラス|
|(省略)|同じパッケージのすべてのクラス|

`static` を付加した場合は、すべてのインスタンスから (またはインスタンスを生成しなくても) アクセスできるようになります。

`final` を付加した場合は、設定した初期値を変更できなくなります。`static` と組み合わせることで「定数」を表現できます。

(例)
```
public static final int ROUND_UP = 0;  // インスタンスを生成しなくてもアクセス可能 & 変更不可 (定数)
```

## 2.4. メソッド

メソッドの定義は、基本的には以下の書式に従います。

```
[スコープ] [static] [final] <戻り値の型> <メソッド名>([<引数の型> <引数名>[, <引数の型> <引数名>...]]) {
    [文 (必要なだけ・必要な場所で)]
}
```

`static` を付加した場合は、すべてのインスタンスから (またはインスタンスを生成しなくても) アクセスできるようになります。

(例)
```
public static Integer valueOf(int i) {  // インスタンスを生成しなくてもアクセス可能
    ...
}
```

`final` を付加した場合は、サブクラスでメソッドをオーバーライドできなくなります (後述)。

## 2.5. コンストラクタ

コンストラクタの定義は、基本的には以下の書式に従います。

```
[スコープ] <クラス名>([<引数の型> <引数名>[, <引数の型> <引数名>...]]) {
    [文 (必要なだけ・必要な場所で)]
}
```
